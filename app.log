2026-01-04 13:42:20 | INFO | root | Logging initialized successfully
2026-01-04 13:42:20 | INFO | app.main | Voice Assistant FastAPI server starting up...
2026-01-04 13:42:20 | INFO | websockets.server | server listening on 0.0.0.0:8765
2026-01-04 13:42:20 | INFO | app.websocket | WebSocket server started on port 8765
2026-01-04 13:42:34 | ERROR | asyncio | Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<main() running at C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2026-01-04 13:42:34 | INFO | websockets.server | server closing
2026-01-04 13:42:34 | INFO | websockets.server | server closed
2026-01-04 13:43:20 | INFO | app.main | Voice Assistant FastAPI server shutting down...
2026-01-04 14:07:10 | INFO | root | Logging initialized successfully
2026-01-04 14:07:58 | INFO | root | Logging initialized successfully
2026-01-04 14:09:11 | INFO | root | Logging initialized successfully
2026-01-04 14:12:47 | INFO | root | Logging initialized successfully
2026-01-04 14:12:53 | INFO | root | Logging initialized successfully
2026-01-04 14:13:06 | INFO | root | Logging initialized successfully
2026-01-04 14:15:04 | INFO | root | Logging initialized successfully
2026-01-04 14:22:47 | INFO | root | Logging initialized successfully
2026-01-04 14:27:16 | INFO | root | Logging initialized successfully
2026-01-04 14:27:23 | INFO | root | Logging initialized successfully
2026-01-04 14:27:34 | INFO | root | Logging initialized successfully
2026-01-04 14:28:28 | INFO | root | Logging initialized successfully
2026-01-04 14:31:29 | INFO | root | Logging initialized successfully
2026-01-04 14:31:31 | INFO | app.websocket | WebSocket client connected: 2287586373312
2026-01-04 14:31:39 | INFO | app.websocket | WebSocket client connected: 2287586139568
2026-01-04 14:34:06 | INFO | app.websocket | WebSocket client disconnected: 2287586373312
2026-01-04 14:34:24 | INFO | root | Logging initialized successfully
2026-01-04 14:34:41 | INFO | root | Logging initialized successfully
2026-01-04 14:34:42 | INFO | app.websocket | WebSocket client connected: 3203615536464
2026-01-04 14:39:00 | INFO | root | Logging initialized successfully
2026-01-04 14:39:06 | INFO | root | Logging initialized successfully
2026-01-04 14:39:16 | INFO | root | Logging initialized successfully
2026-01-04 14:39:22 | INFO | app.websocket | WebSocket client connected: 1990369341456
2026-01-04 14:42:51 | INFO | root | Logging initialized successfully
2026-01-04 14:42:57 | INFO | root | Logging initialized successfully
2026-01-04 14:43:13 | INFO | root | Logging initialized successfully
2026-01-04 14:43:16 | INFO | app.websocket | WebSocket client connected: 2107429358896
2026-01-04 14:43:23 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 14:43:26 | ERROR | app.stt.whisper | STT transcription failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\stt\whisper.py", line 83, in _sync_transcribe
    audio_np, sr = sf.read(io.BytesIO(audio_bytes))
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\soundfile.py", line 305, in read
    with SoundFile(file, 'r', samplerate, channels,
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\soundfile.py", line 690, in __init__
    self._file = self._open(file, mode_int, closefd)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\soundfile.py", line 1265, in _open
    raise LibsndfileError(err, prefix="Error opening {0!r}: ".format(self.name))
soundfile.LibsndfileError: Error opening <_io.BytesIO object at 0x000001EAAC8D61B0>: Format not recognised.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\stt\whisper.py", line 64, in transcribe
    text = await loop.run_in_executor(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\stt\whisper.py", line 85, in _sync_transcribe
    raise STTError(f"Failed to read audio: {e}") from e
app.stt.whisper.STTError: Failed to read audio: Error opening <_io.BytesIO object at 0x000001EAAC8D61B0>: Format not recognised.
2026-01-04 14:48:54 | INFO | root | Logging initialized successfully
2026-01-04 14:49:23 | INFO | root | Logging initialized successfully
2026-01-04 14:49:37 | INFO | root | Logging initialized successfully
2026-01-04 14:49:54 | INFO | app.websocket | WebSocket client connected: 2496120936944
2026-01-04 14:50:01 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 14:50:05 | INFO | faster_whisper | Processing audio with duration 00:04.380
2026-01-04 14:50:06 | ERROR | app.stt.whisper | STT transcription failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\stt\whisper.py", line 100, in _sync_transcribe
    segments, _ = model.transcribe(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\faster_whisper\transcribe.py", line 848, in transcribe
    speech_chunks = get_speech_timestamps(audio, vad_parameters)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\faster_whisper\vad.py", line 89, in get_speech_timestamps
    speech_probs = model(padded_audio.reshape(1, -1)).squeeze(0)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\faster_whisper\vad.py", line 311, in __call__
    encoder_output = self.encoder_session.run(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\onnxruntime\capi\onnxruntime_inference_collection.py", line 287, in run
    return self._sess.run(output_names, input_feed, run_options)
onnxruntime.capi.onnxruntime_pybind11_state.InvalidArgument: [ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Unexpected input data type. Actual: (tensor(double)) , expected: (tensor(float))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\stt\whisper.py", line 65, in transcribe
    return await loop.run_in_executor(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\stt\whisper.py", line 106, in _sync_transcribe
    raise STTError(f"Whisper transcription failed: {e}") from e
app.stt.whisper.STTError: Whisper transcription failed: [ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Unexpected input data type. Actual: (tensor(double)) , expected: (tensor(float))
2026-01-04 14:50:06 | WARNING | app.websocket | STT failed: Whisper transcription failed: [ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Unexpected input data type. Actual: (tensor(double)) , expected: (tensor(float))
2026-01-04 14:51:23 | INFO | app.websocket | WebSocket client disconnected: 2496120936944
2026-01-04 14:52:47 | INFO | root | Logging initialized successfully
2026-01-04 14:52:51 | INFO | app.websocket | WebSocket client connected: 2419405243248
2026-01-04 14:53:01 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 14:53:04 | INFO | faster_whisper | Processing audio with duration 00:03.300
2026-01-04 14:53:04 | INFO | faster_whisper | VAD filter removed 00:00.464 of audio
2026-01-04 14:55:07 | INFO | root | Logging initialized successfully
2026-01-04 14:55:18 | INFO | root | Logging initialized successfully
2026-01-04 14:55:22 | INFO | app.websocket | WebSocket client connected: 1446757856352
2026-01-04 14:55:29 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 14:55:33 | INFO | faster_whisper | Processing audio with duration 00:03.660
2026-01-04 14:55:33 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 14:56:50 | INFO | root | Logging initialized successfully
2026-01-04 14:57:02 | INFO | root | Logging initialized successfully
2026-01-04 14:57:02 | INFO | app.websocket | WebSocket client connected: 1337060027808
2026-01-04 14:57:10 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 14:57:13 | INFO | faster_whisper | Processing audio with duration 00:03.780
2026-01-04 14:57:13 | INFO | faster_whisper | VAD filter removed 00:00.080 of audio
2026-01-04 14:57:15 | INFO | app.websocket | STT output: I only need 2 skills
2026-01-04 14:57:15 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 82, in websocket_endpoint
    state = await run_step(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 115, in run_step
    return await conversation_graph.ainvoke(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 61, in ainvoke
    ret = await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\write.py", line 86, in _awrite
    values = await asyncio.gather(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 59, in ainvoke
    return self.invoke(input, config)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 52, in invoke
    ret = self.func(input, merge_configs(self.config, config), **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 169, in _get_state_key
    raise InvalidUpdateError(f"Expected dict, got {input}")
langgraph.channels.base.InvalidUpdateError: Expected dict, got step='START' timezone='Asia/Kolkata' name=None meeting_datetime=None meeting_title=None last_user_message='I only need 2 skills' system_message=None is_confirmed=False
2026-01-04 14:57:15 | ERROR | app.websocket | TTS generation failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 93, in websocket_endpoint
    audio_bytes = await KokoroTTSService.synthesize(state.system_message)
TypeError: KokoroTTSService.synthesize() missing 1 required positional argument: 'text'
2026-01-04 15:00:57 | INFO | app.websocket | WebSocket client disconnected: 1337060027808
2026-01-04 15:01:10 | INFO | root | Logging initialized successfully
2026-01-04 15:01:27 | INFO | root | Logging initialized successfully
2026-01-04 15:01:41 | INFO | app.websocket | WebSocket client connected: 2689728068336
2026-01-04 15:01:49 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:01:52 | INFO | faster_whisper | Processing audio with duration 00:05.040
2026-01-04 15:01:52 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 15:01:55 | INFO | app.websocket | STT output: 20 rupees I can't give bro only 10 rupees I will give
2026-01-04 15:01:55 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 82, in websocket_endpoint
    state = await run_step(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 116, in run_step
    updated_state = await conversation_graph.ainvoke(asdict(state))
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\dataclasses.py", line 1231, in asdict
    raise TypeError("asdict() should be called on dataclass instances")
TypeError: asdict() should be called on dataclass instances
2026-01-04 15:01:55 | ERROR | app.websocket | TTS generation failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 93, in websocket_endpoint
    audio_bytes = await KokoroTTSService.synthesize(state.system_message)
TypeError: KokoroTTSService.synthesize() missing 1 required positional argument: 'text'
2026-01-04 15:06:21 | INFO | app.websocket | WebSocket client disconnected: 2689728068336
2026-01-04 15:06:43 | INFO | root | Logging initialized successfully
2026-01-04 15:06:53 | INFO | root | Logging initialized successfully
2026-01-04 15:08:06 | INFO | root | Logging initialized successfully
2026-01-04 15:08:06 | INFO | app.websocket | WebSocket client connected: 1966357403136
2026-01-04 15:08:09 | INFO | app.websocket | WebSocket client connected: 1966357205616
2026-01-04 15:11:27 | INFO | root | Logging initialized successfully
2026-01-04 15:11:34 | INFO | root | Logging initialized successfully
2026-01-04 15:11:46 | INFO | root | Logging initialized successfully
2026-01-04 15:11:52 | INFO | app.websocket | WebSocket client connected: 1452153562752
2026-01-04 15:11:59 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:12:02 | INFO | faster_whisper | Processing audio with duration 00:03.240
2026-01-04 15:12:02 | INFO | faster_whisper | VAD filter removed 00:00.528 of audio
2026-01-04 15:12:05 | INFO | app.websocket | STT output: I won't be here bro, yes
2026-01-04 15:12:05 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 83, in websocket_endpoint
    state = await run_step(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 116, in run_step
    updated_state = await conversation_graph.ainvoke(asdict(state))
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\dataclasses.py", line 1231, in asdict
    raise TypeError("asdict() should be called on dataclass instances")
TypeError: asdict() should be called on dataclass instances
2026-01-04 15:12:08 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:12:09 | ERROR | app.websocket | TTS generation failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 95, in websocket_endpoint
    audio_b64 = base64.b64encode(audio_bytes).decode("utf-8")
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\base64.py", line 58, in b64encode
    encoded = binascii.b2a_base64(s, newline=False)
TypeError: a bytes-like object is required, not 'str'
2026-01-04 15:16:38 | INFO | app.websocket | WebSocket client disconnected: 1452153562752
2026-01-04 15:16:56 | INFO | root | Logging initialized successfully
2026-01-04 15:17:10 | INFO | root | Logging initialized successfully
2026-01-04 15:17:17 | INFO | root | Logging initialized successfully
2026-01-04 15:17:29 | INFO | root | Logging initialized successfully
2026-01-04 15:17:37 | INFO | app.websocket | WebSocket client connected: 2262840923600
2026-01-04 15:17:43 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:17:47 | INFO | faster_whisper | Processing audio with duration 00:04.500
2026-01-04 15:17:47 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 15:17:50 | INFO | app.websocket | STT output: Ryan, say something, Ryan. Hello, Ramessa?
2026-01-04 15:17:50 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 83, in websocket_endpoint
    state = await run_step(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 116, in run_step
    updated_state = await conversation_graph.ainvoke(asdict(state))
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\dataclasses.py", line 1231, in asdict
    raise TypeError("asdict() should be called on dataclass instances")
TypeError: asdict() should be called on dataclass instances
2026-01-04 15:17:54 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:20:24 | INFO | app.websocket | WebSocket client disconnected: 2262840923600
2026-01-04 15:20:43 | INFO | root | Logging initialized successfully
2026-01-04 15:22:39 | INFO | root | Logging initialized successfully
2026-01-04 15:22:47 | INFO | root | Logging initialized successfully
2026-01-04 15:25:48 | INFO | root | Logging initialized successfully
2026-01-04 15:25:54 | INFO | root | Logging initialized successfully
2026-01-04 15:26:06 | INFO | root | Logging initialized successfully
2026-01-04 15:26:41 | INFO | app.websocket | WebSocket client connected: 2513961891248
2026-01-04 15:26:49 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:26:53 | INFO | faster_whisper | Processing audio with duration 00:04.380
2026-01-04 15:26:54 | INFO | faster_whisper | VAD filter removed 00:02.748 of audio
2026-01-04 15:26:57 | INFO | app.websocket | STT output: Hi, hello
2026-01-04 15:26:57 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 80, in websocket_endpoint
    state_dict = await run_step(state)
UnboundLocalError: local variable 'state' referenced before assignment
2026-01-04 15:33:09 | INFO | root | Logging initialized successfully
2026-01-04 15:33:20 | INFO | root | Logging initialized successfully
2026-01-04 15:33:25 | INFO | app.websocket | WebSocket client connected: 2149577463200
2026-01-04 15:33:33 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:33:36 | INFO | faster_whisper | Processing audio with duration 00:03.600
2026-01-04 15:33:36 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 15:33:40 | INFO | app.websocket | STT output: Hey, Rihad. How are you, Rihad?
2026-01-04 15:33:40 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 82, in websocket_endpoint
    updated_state_dict = await run_step(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 115, in run_step
    updated_state = await conversation_graph.ainvoke(state.dict())
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 2536, in ainvoke
    input = await step.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 61, in ainvoke
    ret = await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\write.py", line 86, in _awrite
    values = await asyncio.gather(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 59, in ainvoke
    return self.invoke(input, config)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 52, in invoke
    ret = self.func(input, merge_configs(self.config, config), **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 169, in _get_state_key
    raise InvalidUpdateError(f"Expected dict, got {input}")
langgraph.channels.base.InvalidUpdateError: Expected dict, got step='START' timezone='Asia/Kolkata' name=None meeting_datetime=None meeting_title=None last_user_message='Hey, Rihad. How are you, Rihad?' system_message="Hi! I can help you schedule a meeting. Let's start with your name." is_confirmed=False
2026-01-04 15:33:48 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 15:33:50 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:33:55 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:37:13 | INFO | app.websocket | WebSocket client disconnected: 2149577463200
2026-01-04 15:37:29 | INFO | root | Logging initialized successfully
2026-01-04 15:37:39 | INFO | app.websocket | WebSocket client connected: 1817801846416
2026-01-04 15:37:49 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:37:54 | INFO | faster_whisper | Processing audio with duration 00:03.000
2026-01-04 15:37:54 | INFO | faster_whisper | VAD filter removed 00:00.016 of audio
2026-01-04 15:37:56 | INFO | app.websocket | STT output: Another mess up
2026-01-04 15:37:57 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 82, in websocket_endpoint
    updated_state_dict = await run_step(state)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 120, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 2536, in ainvoke
    input = await step.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 61, in ainvoke
    ret = await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\write.py", line 86, in _awrite
    values = await asyncio.gather(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 59, in ainvoke
    return self.invoke(input, config)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 52, in invoke
    ret = self.func(input, merge_configs(self.config, config), **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 169, in _get_state_key
    raise InvalidUpdateError(f"Expected dict, got {input}")
langgraph.channels.base.InvalidUpdateError: Expected dict, got step='START' timezone='Asia/Kolkata' name=None meeting_datetime=None meeting_title=None last_user_message='Another mess up' system_message="Hi! I can help you schedule a meeting. Let's start with your name." is_confirmed=False
2026-01-04 15:38:05 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 15:38:05 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:38:09 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:45:16 | INFO | app.websocket | WebSocket client disconnected: 1817801846416
2026-01-04 15:45:34 | INFO | root | Logging initialized successfully
2026-01-04 15:45:52 | INFO | app.websocket | WebSocket client connected: 2205227207072
2026-01-04 15:45:57 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:46:00 | INFO | faster_whisper | Processing audio with duration 00:03.720
2026-01-04 15:46:00 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 15:46:03 | INFO | app.websocket | STT output: Hello? Hello, Moidu!
2026-01-04 15:46:03 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 121, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 2536, in ainvoke
    input = await step.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 61, in ainvoke
    ret = await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\write.py", line 86, in _awrite
    values = await asyncio.gather(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 59, in ainvoke
    return self.invoke(input, config)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 52, in invoke
    ret = self.func(input, merge_configs(self.config, config), **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 169, in _get_state_key
    raise InvalidUpdateError(f"Expected dict, got {input}")
langgraph.channels.base.InvalidUpdateError: Expected dict, got step='START' timezone='Asia/Kolkata' name=None meeting_datetime=None meeting_title=None last_user_message='Hello? Hello, Moidu!' system_message="Hi! I can help you schedule a meeting. Let's start with your name." is_confirmed=False
2026-01-04 15:48:54 | INFO | app.websocket | WebSocket client disconnected: 2205227207072
2026-01-04 15:49:10 | INFO | root | Logging initialized successfully
2026-01-04 15:49:16 | INFO | root | Logging initialized successfully
2026-01-04 15:49:27 | INFO | root | Logging initialized successfully
2026-01-04 15:50:20 | INFO | app.websocket | WebSocket client connected: 1312965152288
2026-01-04 15:50:29 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 15:50:32 | INFO | faster_whisper | Processing audio with duration 00:05.580
2026-01-04 15:50:32 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 15:50:34 | INFO | app.websocket | STT output: Yo, yo, what's up guys? What's up?
2026-01-04 15:50:34 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 131, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 862, in astream
    next_checkpoint, next_tasks = _prepare_next_tasks(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1276, in _prepare_next_tasks
    val = proc.mapper(val)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 308, in _coerce_state
    return schema(**input)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\pydantic\main.py", line 171, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ConversationState
meeting_datetime
  Input should be a valid datetime or date, input is too short [type=datetime_from_date_parsing, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.6/v/datetime_from_date_parsing
2026-01-04 15:50:35 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 86, in websocket_endpoint
    state = ConversationState(**updated_state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\pydantic\main.py", line 171, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ConversationState
meeting_datetime
  Input should be a valid datetime or date, input is too short [type=datetime_from_date_parsing, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.6/v/datetime_from_date_parsing
2026-01-04 15:50:38 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 15:53:06 | INFO | app.websocket | WebSocket client disconnected: 1312965152288
2026-01-04 15:53:25 | INFO | root | Logging initialized successfully
2026-01-04 16:00:56 | INFO | root | Logging initialized successfully
2026-01-04 16:00:57 | INFO | app.websocket | WebSocket client connected: 2424098516480
2026-01-04 16:01:05 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:01:07 | INFO | faster_whisper | Processing audio with duration 00:03.420
2026-01-04 16:01:08 | INFO | faster_whisper | VAD filter removed 00:00.144 of audio
2026-01-04 16:01:10 | INFO | app.websocket | STT output: Do you guys need any snacks? No, I don't need it
2026-01-04 16:01:10 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 131, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 862, in astream
    next_checkpoint, next_tasks = _prepare_next_tasks(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1276, in _prepare_next_tasks
    val = proc.mapper(val)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 308, in _coerce_state
    return schema(**input)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\pydantic\main.py", line 171, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ConversationState
meeting_datetime
  Input should be a valid datetime or date, input is too short [type=datetime_from_date_parsing, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.6/v/datetime_from_date_parsing
2026-01-04 16:01:10 | ERROR | app.websocket | LangGraph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\websocket.py", line 86, in websocket_endpoint
    state = ConversationState(**updated_state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\pydantic\main.py", line 171, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ConversationState
meeting_datetime
  Input should be a valid datetime or date, input is too short [type=datetime_from_date_parsing, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.6/v/datetime_from_date_parsing
2026-01-04 16:01:16 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 16:01:18 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 16:04:01 | INFO | app.websocket | WebSocket client disconnected: 2424098516480
2026-01-04 16:04:14 | INFO | root | Logging initialized successfully
2026-01-04 16:04:28 | INFO | app.websocket | WebSocket client connected: 1939055570672
2026-01-04 16:04:34 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:04:37 | INFO | faster_whisper | Processing audio with duration 00:03.780
2026-01-04 16:04:37 | INFO | faster_whisper | VAD filter removed 00:00.048 of audio
2026-01-04 16:04:40 | INFO | app.websocket | STT output: Hey, how are you?
2026-01-04 16:04:40 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 129, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 2536, in ainvoke
    input = await step.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 61, in ainvoke
    ret = await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\write.py", line 86, in _awrite
    values = await asyncio.gather(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 59, in ainvoke
    return self.invoke(input, config)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 52, in invoke
    ret = self.func(input, merge_configs(self.config, config), **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 169, in _get_state_key
    raise InvalidUpdateError(f"Expected dict, got {input}")
langgraph.channels.base.InvalidUpdateError: Expected dict, got step='START' timezone='Asia/Kolkata' name=None meeting_datetime=None meeting_title=None last_user_message='Hey, how are you?' system_message="Hi! I can help you schedule a meeting. Let's start with your name." is_confirmed=False
2026-01-04 16:05:47 | INFO | app.websocket | WebSocket client disconnected: 1939055570672
2026-01-04 16:05:57 | INFO | root | Logging initialized successfully
2026-01-04 16:06:01 | INFO | app.websocket | WebSocket client connected: 2241059878704
2026-01-04 16:06:07 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:06:11 | INFO | faster_whisper | Processing audio with duration 00:04.140
2026-01-04 16:06:11 | INFO | faster_whisper | VAD filter removed 00:02.636 of audio
2026-01-04 16:06:13 | INFO | app.websocket | STT output: Hello?
2026-01-04 16:06:13 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 126, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 2536, in ainvoke
    input = await step.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 61, in ainvoke
    ret = await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\write.py", line 86, in _awrite
    values = await asyncio.gather(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 59, in ainvoke
    return self.invoke(input, config)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\utils.py", line 52, in invoke
    ret = self.func(input, merge_configs(self.config, config), **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\graph\state.py", line 169, in _get_state_key
    raise InvalidUpdateError(f"Expected dict, got {input}")
langgraph.channels.base.InvalidUpdateError: Expected dict, got step='START' timezone='Asia/Kolkata' name=None meeting_datetime=None meeting_title=None last_user_message='Hello?' system_message="Hi! I can help you schedule a meeting. Let's start with your name." is_confirmed=False
2026-01-04 16:08:58 | INFO | app.websocket | WebSocket client disconnected: 2241059878704
2026-01-04 16:09:11 | INFO | root | Logging initialized successfully
2026-01-04 16:09:15 | INFO | app.websocket | WebSocket client connected: 2482693206608
2026-01-04 16:09:21 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:09:24 | INFO | faster_whisper | Processing audio with duration 00:04.140
2026-01-04 16:09:24 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 16:09:26 | INFO | app.websocket | STT output: 5G, 5G, 5G, 5G, 5G
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:26 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:09:27 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 126, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 873, in astream
    raise GraphRecursionError(
langgraph.pregel.GraphRecursionError: Recursion limit of 25 reachedwithout hitting a stop condition. You can increase the limitby setting the `recursion_limit` config key.
2026-01-04 16:13:04 | INFO | root | Logging initialized successfully
2026-01-04 16:13:15 | INFO | app.websocket | WebSocket client connected: 1655533465472
2026-01-04 16:13:20 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:13:27 | INFO | faster_whisper | Processing audio with duration 00:02.580
2026-01-04 16:13:27 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 16:13:35 | INFO | app.websocket | STT output: Munch kele jiya chale
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 1: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | app.nlu.extractor | Groq call failed on attempt 2: '\n  "name"'
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 95, in _run_with_retries
    return await asyncio.wait_for(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\asyncio\tasks.py", line 447, in wait_for
    return fut.result()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 78, in _call_groq
    {"role": "user", "content": USER_PROMPT.format(user_message=user_message)},
KeyError: '\n  "name"'
2026-01-04 16:13:35 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 126, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 873, in astream
    raise GraphRecursionError(
langgraph.pregel.GraphRecursionError: Recursion limit of 25 reachedwithout hitting a stop condition. You can increase the limitby setting the `recursion_limit` config key.
2026-01-04 16:17:07 | INFO | app.websocket | WebSocket client disconnected: 1655533465472
2026-01-04 16:17:20 | INFO | root | Logging initialized successfully
2026-01-04 16:17:27 | INFO | root | Logging initialized successfully
2026-01-04 16:17:34 | INFO | root | Logging initialized successfully
2026-01-04 16:17:50 | INFO | root | Logging initialized successfully
2026-01-04 16:17:58 | INFO | app.websocket | WebSocket client connected: 2410644762160
2026-01-04 16:18:04 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:18:10 | INFO | faster_whisper | Processing audio with duration 00:04.020
2026-01-04 16:18:10 | INFO | faster_whisper | VAD filter removed 00:00.048 of audio
2026-01-04 16:18:29 | INFO | app.websocket | STT output: For me, I don't know what I'm saying, but no!
2026-01-04 16:18:29 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:29 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:29 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:29 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:30 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:30 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:30 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:30 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:30 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:31 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:31 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:31 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:31 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:31 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:31 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:32 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:32 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:32 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:32 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:32 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:32 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:33 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:33 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:18:33 | ERROR | root | Error in run_step, returning current state
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 126, in run_step
    updated_state = await conversation_graph.ainvoke(state_dict)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 873, in astream
    raise GraphRecursionError(
langgraph.pregel.GraphRecursionError: Recursion limit of 25 reachedwithout hitting a stop condition. You can increase the limitby setting the `recursion_limit` config key.
2026-01-04 16:29:50 | INFO | app.websocket | WebSocket client disconnected: 2410644762160
2026-01-04 16:39:05 | INFO | root | Logging initialized successfully
2026-01-04 16:39:11 | INFO | app.websocket | WebSocket client connected: 1849705807824
2026-01-04 16:39:16 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:39:19 | INFO | faster_whisper | Processing audio with duration 00:03.000
2026-01-04 16:39:19 | INFO | faster_whisper | VAD filter removed 00:00.720 of audio
2026-01-04 16:39:21 | INFO | app.websocket | STT output: Hello
2026-01-04 16:39:21 | ERROR | app.workflow | Graph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 90, in run_step
    result = await conversation_graph.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 873, in astream
    raise GraphRecursionError(
langgraph.pregel.GraphRecursionError: Recursion limit of 2 reachedwithout hitting a stop condition. You can increase the limitby setting the `recursion_limit` config key.
2026-01-04 16:41:30 | INFO | app.websocket | WebSocket client disconnected: 1849705807824
2026-01-04 16:41:45 | INFO | root | Logging initialized successfully
2026-01-04 16:41:50 | INFO | app.websocket | WebSocket client connected: 1736662769792
2026-01-04 16:41:54 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:41:56 | INFO | faster_whisper | Processing audio with duration 00:02.040
2026-01-04 16:41:57 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 16:41:59 | INFO | app.websocket | STT output: Hello hello hello
2026-01-04 16:42:02 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 16:42:17 | INFO | faster_whisper | Processing audio with duration 00:03.180
2026-01-04 16:42:17 | INFO | faster_whisper | VAD filter removed 00:00.176 of audio
2026-01-04 16:42:20 | INFO | app.websocket | STT output: My name is Mohammad Amin.
2026-01-04 16:42:38 | INFO | faster_whisper | Processing audio with duration 00:06.060
2026-01-04 16:42:38 | INFO | faster_whisper | VAD filter removed 00:03.884 of audio
2026-01-04 16:42:41 | INFO | app.websocket | STT output: My name is Mohamed Amil.
2026-01-04 16:42:52 | INFO | app.websocket | WebSocket client disconnected: 1736662769792
2026-01-04 16:56:39 | INFO | root | Logging initialized successfully
2026-01-04 16:56:44 | INFO | app.websocket | WebSocket client connected: 2675161535856
2026-01-04 16:56:49 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 16:56:52 | INFO | faster_whisper | Processing audio with duration 00:02.640
2026-01-04 16:56:53 | INFO | faster_whisper | VAD filter removed 00:00.624 of audio
2026-01-04 16:56:56 | INFO | app.websocket | STT output: Hello
2026-01-04 16:57:01 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 16:57:20 | INFO | faster_whisper | Processing audio with duration 00:03.000
2026-01-04 16:57:24 | INFO | faster_whisper | VAD filter removed 00:00.208 of audio
2026-01-04 16:57:52 | INFO | app.websocket | STT output: My name is Mahmada Mild.
2026-01-04 16:57:54 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:58:06 | INFO | faster_whisper | Processing audio with duration 00:04.260
2026-01-04 16:58:06 | INFO | faster_whisper | VAD filter removed 00:00.432 of audio
2026-01-04 16:58:09 | INFO | app.websocket | STT output: My name is Muhammad Amil.
2026-01-04 16:58:09 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 16:58:27 | INFO | faster_whisper | Processing audio with duration 00:04.020
2026-01-04 16:58:27 | INFO | faster_whisper | VAD filter removed 00:00.208 of audio
2026-01-04 16:58:30 | INFO | app.websocket | STT output: My name is Muhammad Amil.
2026-01-04 16:58:30 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:03:44 | INFO | app.websocket | WebSocket client disconnected: 2675161535856
2026-01-04 17:04:12 | INFO | root | Logging initialized successfully
2026-01-04 17:04:17 | INFO | app.websocket | WebSocket client connected: 2111217005856
2026-01-04 17:04:22 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:04:25 | INFO | faster_whisper | Processing audio with duration 00:02.160
2026-01-04 17:04:25 | INFO | faster_whisper | VAD filter removed 00:00.304 of audio
2026-01-04 17:04:27 | INFO | app.websocket | STT output: Hello
2026-01-04 17:04:31 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:04:35 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:04:47 | INFO | faster_whisper | Processing audio with duration 00:03.660
2026-01-04 17:04:47 | INFO | faster_whisper | VAD filter removed 00:00.112 of audio
2026-01-04 17:04:53 | INFO | app.websocket | STT output: My name is Mohamed Amel.
2026-01-04 17:05:08 | INFO | faster_whisper | Processing audio with duration 00:03.540
2026-01-04 17:05:09 | INFO | faster_whisper | VAD filter removed 00:00.112 of audio
2026-01-04 17:05:12 | INFO | app.websocket | STT output: My name is Mohammad Aamil.
2026-01-04 17:07:55 | INFO | app.websocket | WebSocket client disconnected: 2111217005856
2026-01-04 17:08:08 | INFO | root | Logging initialized successfully
2026-01-04 17:08:18 | INFO | root | Logging initialized successfully
2026-01-04 17:08:33 | INFO | app.websocket | WebSocket client connected: 2168889597648
2026-01-04 17:08:37 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:08:41 | INFO | faster_whisper | Processing audio with duration 00:02.880
2026-01-04 17:08:41 | INFO | faster_whisper | VAD filter removed 00:01.728 of audio
2026-01-04 17:08:44 | INFO | app.websocket | STT output: Hello?
2026-01-04 17:08:50 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:08:52 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:09:05 | INFO | faster_whisper | Processing audio with duration 00:03.120
2026-01-04 17:09:05 | INFO | faster_whisper | VAD filter removed 00:00.176 of audio
2026-01-04 17:09:14 | INFO | app.websocket | STT output: My name is Mohammad Amir.
2026-01-04 17:09:22 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:09:30 | WARNING | app.tts.kokoro | TTS timeout (attempt 2)
2026-01-04 17:09:30 | ERROR | app.websocket | TTS generation failed: TTS synthesis failed after retries
2026-01-04 17:09:58 | INFO | faster_whisper | Processing audio with duration 00:03.780
2026-01-04 17:09:58 | INFO | faster_whisper | VAD filter removed 00:00.048 of audio
2026-01-04 17:10:01 | INFO | app.websocket | STT output: My name is Mohamed Amil.
2026-01-04 17:11:09 | INFO | faster_whisper | Processing audio with duration 00:03.480
2026-01-04 17:11:11 | INFO | faster_whisper | VAD filter removed 00:00.000 of audio
2026-01-04 17:11:17 | INFO | app.websocket | STT output: Mohammed Amir. My name is Mohammed Amir.
2026-01-04 17:13:12 | INFO | app.websocket | WebSocket client disconnected: 2168889597648
2026-01-04 17:13:39 | INFO | root | Logging initialized successfully
2026-01-04 17:15:55 | INFO | root | Logging initialized successfully
2026-01-04 17:16:41 | INFO | root | Logging initialized successfully
2026-01-04 17:16:42 | INFO | app.websocket | WebSocket client connected: 2058382054528
2026-01-04 17:16:47 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:16:49 | INFO | app.websocket | Sent initial greeting to user 2058382054528
2026-01-04 17:16:56 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:17:00 | INFO | faster_whisper | Processing audio with duration 00:07.080
2026-01-04 17:17:00 | INFO | faster_whisper | VAD filter removed 00:03.760 of audio
2026-01-04 17:17:04 | INFO | app.websocket | STT output: My name is Mohammad Amir
2026-01-04 17:17:32 | INFO | faster_whisper | Processing audio with duration 00:05.880
2026-01-04 17:17:37 | INFO | faster_whisper | VAD filter removed 00:03.352 of audio
2026-01-04 17:17:50 | INFO | app.websocket | STT output: Names Muhammad Amir
2026-01-04 17:19:06 | INFO | app.websocket | WebSocket client disconnected: 2058382054528
2026-01-04 17:19:20 | INFO | root | Logging initialized successfully
2026-01-04 17:19:27 | INFO | root | Logging initialized successfully
2026-01-04 17:19:34 | INFO | app.websocket | WebSocket client connected: 1908597174384
2026-01-04 17:19:42 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:19:44 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:19:49 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:19:50 | WARNING | app.tts.kokoro | TTS timeout (attempt 2)
2026-01-04 17:19:50 | ERROR | app.websocket | TTS generation failed for initial greeting: TTS synthesis failed after retries
2026-01-04 17:19:50 | INFO | app.websocket | Sent initial greeting to user 1908597174384
2026-01-04 17:19:50 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:19:55 | INFO | faster_whisper | Processing audio with duration 00:04.920
2026-01-04 17:19:55 | INFO | faster_whisper | VAD filter removed 00:04.920 of audio
2026-01-04 17:19:55 | WARNING | app.stt.whisper | STT failed: Empty transcription result
2026-01-04 17:19:55 | WARNING | app.websocket | STT failed: Empty transcription result
2026-01-04 17:19:58 | INFO | app.websocket | WebSocket client disconnected: 1908597174384
2026-01-04 17:20:21 | INFO | root | Logging initialized successfully
2026-01-04 17:20:24 | INFO | app.websocket | WebSocket client connected: 2314596822960
2026-01-04 17:20:28 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:20:32 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:20:35 | INFO | app.websocket | Sent initial greeting to user 2314596822960
2026-01-04 17:21:28 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:21:32 | INFO | faster_whisper | Processing audio with duration 00:03.300
2026-01-04 17:21:33 | INFO | faster_whisper | VAD filter removed 00:00.400 of audio
2026-01-04 17:21:35 | INFO | app.websocket | STT output: My name is Mohamed Amir.
2026-01-04 17:25:09 | INFO | app.websocket | WebSocket client disconnected: 2314596822960
2026-01-04 17:25:37 | INFO | root | Logging initialized successfully
2026-01-04 17:25:56 | INFO | root | Logging initialized successfully
2026-01-04 17:26:05 | INFO | root | Logging initialized successfully
2026-01-04 17:26:15 | INFO | app.websocket | WebSocket client connected: 1637062641360
2026-01-04 17:26:15 | INFO | app.workflow | [RUN_STEP] Starting with state.step: START
2026-01-04 17:26:15 | INFO | app.workflow | [RUN_STEP] state.last_user_message: None
2026-01-04 17:26:15 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:26:20 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:26:23 | INFO | app.websocket | Sent initial greeting to user 1637062641360
2026-01-04 17:27:04 | INFO | app.websocket | WebSocket client disconnected: 1637062641360
2026-01-04 17:27:25 | INFO | root | Logging initialized successfully
2026-01-04 17:27:28 | INFO | app.websocket | WebSocket client connected: 1727248309584
2026-01-04 17:27:28 | INFO | app.workflow | [RUN_STEP] Starting with state.step: START
2026-01-04 17:27:28 | INFO | app.workflow | [RUN_STEP] state.last_user_message: None
2026-01-04 17:27:29 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:27:34 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:27:37 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:27:38 | INFO | app.websocket | Sent initial greeting to user 1727248309584
2026-01-04 17:27:57 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:28:00 | INFO | faster_whisper | Processing audio with duration 00:04.380
2026-01-04 17:28:00 | INFO | faster_whisper | VAD filter removed 00:00.528 of audio
2026-01-04 17:28:03 | INFO | app.websocket | STT output: My name is Mohammad Amil
2026-01-04 17:28:03 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 17:28:03 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Mohammad Amil
2026-01-04 17:28:03 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_NAME
2026-01-04 17:28:03 | INFO | app.workflow | [RUN_STEP] state.last_user_message: My name is Mohammad Amil
2026-01-04 17:28:03 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:28:03 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:28:03 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_NAME
2026-01-04 17:28:03 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Hi! I can help you schedule a meeting. Whats your name?
2026-01-04 17:28:42 | INFO | faster_whisper | Processing audio with duration 00:05.160
2026-01-04 17:28:42 | INFO | faster_whisper | VAD filter removed 00:01.520 of audio
2026-01-04 17:28:45 | INFO | app.websocket | STT output: My name is Mohammad Amid.
2026-01-04 17:28:45 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 17:28:45 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Mohammad Amid.
2026-01-04 17:28:45 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_NAME
2026-01-04 17:28:45 | INFO | app.workflow | [RUN_STEP] state.last_user_message: My name is Mohammad Amid.
2026-01-04 17:28:45 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:28:45 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:28:45 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_NAME
2026-01-04 17:28:45 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Hi! I can help you schedule a meeting. Whats your name?
2026-01-04 17:31:27 | INFO | app.websocket | WebSocket client disconnected: 1727248309584
2026-01-04 17:31:49 | INFO | root | Logging initialized successfully
2026-01-04 17:32:30 | INFO | root | Logging initialized successfully
2026-01-04 17:33:42 | INFO | root | Logging initialized successfully
2026-01-04 17:33:43 | INFO | app.websocket | WebSocket client connected: 2357953884416
2026-01-04 17:33:43 | INFO | app.workflow | [RUN_STEP] Starting with state.step: START
2026-01-04 17:33:43 | INFO | app.workflow | [RUN_STEP] state.last_user_message: None
2026-01-04 17:33:43 | INFO | app.workflow | [ROUTE_START] Called with state.step: START
2026-01-04 17:33:43 | INFO | app.workflow | [ROUTE_START] Routing to: START
2026-01-04 17:33:43 | INFO | app.graph | [START_NODE] Executing
2026-01-04 17:33:43 | INFO | app.graph | [START_NODE] Set step to ASK_NAME
2026-01-04 17:33:43 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:33:46 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:33:47 | INFO | app.websocket | Sent initial greeting to user 2357953884416
2026-01-04 17:34:00 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:34:04 | INFO | faster_whisper | Processing audio with duration 00:04.440
2026-01-04 17:34:04 | INFO | faster_whisper | VAD filter removed 00:02.232 of audio
2026-01-04 17:34:07 | INFO | app.websocket | STT output: My name is Mohammad Amin
2026-01-04 17:34:07 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 17:34:07 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Mohammad Amin
2026-01-04 17:34:07 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_NAME
2026-01-04 17:34:07 | INFO | app.workflow | [RUN_STEP] state.last_user_message: My name is Mohammad Amin
2026-01-04 17:34:07 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_NAME
2026-01-04 17:34:07 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_NAME
2026-01-04 17:34:07 | INFO | app.graph | [ASK_NAME_NODE] Executing with last_user_message: My name is Mohammad Amin
2026-01-04 17:34:07 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: My name is Mohammad Amin
2026-01-04 17:34:08 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:34:08 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': 'Mohammad Amin', 'meeting_datetime_text': None, 'meeting_title': None}
2026-01-04 17:34:08 | INFO | app.nlu.extractor | Extracted fields - name: Mohammad Amin, title: None, datetime_text: None
2026-01-04 17:34:08 | INFO | app.nlu.extractor | Updated state.name to: Mohammad Amin
2026-01-04 17:34:08 | INFO | app.graph | [ASK_NAME_NODE] After extraction, state.name: Mohammad Amin
2026-01-04 17:34:08 | INFO | app.graph | [ASK_NAME_NODE] Name found, moving to ASK_DATETIME
2026-01-04 17:34:08 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:34:08 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:34:08 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:34:08 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Nice to meet you, Mohammad Amin. When should we schedule the meeting?
2026-01-04 17:34:39 | INFO | faster_whisper | Processing audio with duration 00:06.540
2026-01-04 17:34:40 | INFO | faster_whisper | VAD filter removed 00:01.788 of audio
2026-01-04 17:34:58 | INFO | app.websocket | STT output: I would like to have the meeting for tomorrow 11pm.
2026-01-04 17:34:58 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: I would like to have the meeting for tomorrow 11pm.
2026-01-04 17:34:58 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.workflow | [RUN_STEP] state.last_user_message: I would like to have the meeting for tomorrow 11pm.
2026-01-04 17:34:58 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: I would like to have the meeting for tomorrow 11pm.
2026-01-04 17:34:58 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: I would like to have the meeting for tomorrow 11pm.
2026-01-04 17:34:58 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:34:58 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'tomorrow 11pm', 'meeting_title': None}
2026-01-04 17:34:58 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: tomorrow 11pm
2026-01-04 17:34:58 | INFO | app.nlu.extractor | Date parsing failed for text: tomorrow 11pm
2026-01-04 17:34:58 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: None
2026-01-04 17:34:58 | INFO | app.graph | [ASK_DATETIME_NODE] No datetime found, staying in ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:34:58 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:34:58 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please tell me the preferred date and time (for example, 12 Jan at 3 PM).
2026-01-04 17:35:21 | INFO | faster_whisper | Processing audio with duration 00:06.540
2026-01-04 17:35:21 | INFO | faster_whisper | VAD filter removed 00:02.636 of audio
2026-01-04 17:35:25 | INFO | app.websocket | STT output: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.workflow | [RUN_STEP] state.last_user_message: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:35:25 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'tomorrow at 11 p.m.', 'meeting_title': None}
2026-01-04 17:35:25 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | app.nlu.extractor | Date parsing failed for text: tomorrow at 11 p.m.
2026-01-04 17:35:25 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: None
2026-01-04 17:35:25 | INFO | app.graph | [ASK_DATETIME_NODE] No datetime found, staying in ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:35:25 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:35:25 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please tell me the preferred date and time (for example, 12 Jan at 3 PM).
2026-01-04 17:35:41 | INFO | faster_whisper | Processing audio with duration 00:06.960
2026-01-04 17:35:42 | INFO | faster_whisper | VAD filter removed 00:02.608 of audio
2026-01-04 17:35:45 | INFO | app.websocket | STT output: 12th January at 3pm
2026-01-04 17:35:45 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 17:35:45 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: 12th January at 3pm
2026-01-04 17:35:45 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_DATETIME
2026-01-04 17:35:45 | INFO | app.workflow | [RUN_STEP] state.last_user_message: 12th January at 3pm
2026-01-04 17:35:45 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 17:35:45 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 17:35:45 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: 12th January at 3pm
2026-01-04 17:35:45 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: 12th January at 3pm
2026-01-04 17:35:46 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:35:46 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': '12th January at 3pm', 'meeting_title': None}
2026-01-04 17:35:46 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: 12th January at 3pm
2026-01-04 17:35:46 | INFO | app.nlu.extractor | Date parsing failed for text: 12th January at 3pm
2026-01-04 17:35:46 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: None
2026-01-04 17:35:46 | INFO | app.graph | [ASK_DATETIME_NODE] No datetime found, staying in ASK_DATETIME
2026-01-04 17:35:46 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:35:46 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:35:46 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:35:46 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please tell me the preferred date and time (for example, 12 Jan at 3 PM).
2026-01-04 17:35:59 | INFO | faster_whisper | Processing audio with duration 00:03.960
2026-01-04 17:35:59 | INFO | faster_whisper | VAD filter removed 00:00.496 of audio
2026-01-04 17:36:03 | INFO | app.websocket | STT output: Soil January at 3pm
2026-01-04 17:36:03 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Soil January at 3pm
2026-01-04 17:36:03 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.workflow | [RUN_STEP] state.last_user_message: Soil January at 3pm
2026-01-04 17:36:03 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: Soil January at 3pm
2026-01-04 17:36:03 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Soil January at 3pm
2026-01-04 17:36:03 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:36:03 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'Soil January at 3pm', 'meeting_title': None}
2026-01-04 17:36:03 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: Soil January at 3pm
2026-01-04 17:36:03 | INFO | app.nlu.extractor | Date parsing failed for text: Soil January at 3pm
2026-01-04 17:36:03 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: None
2026-01-04 17:36:03 | INFO | app.graph | [ASK_DATETIME_NODE] No datetime found, staying in ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:36:03 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:36:03 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please tell me the preferred date and time (for example, 12 Jan at 3 PM).
2026-01-04 17:39:34 | INFO | app.websocket | WebSocket client disconnected: 2357953884416
2026-01-04 17:39:53 | INFO | root | Logging initialized successfully
2026-01-04 17:40:12 | INFO | root | Logging initialized successfully
2026-01-04 17:40:13 | INFO | app.websocket | WebSocket client connected: 3003548075296
2026-01-04 17:40:13 | INFO | app.workflow | [RUN_STEP] Starting with state.step: START
2026-01-04 17:40:13 | INFO | app.workflow | [RUN_STEP] state.last_user_message: None
2026-01-04 17:40:13 | INFO | app.workflow | [ROUTE_START] Called with state.step: START
2026-01-04 17:40:13 | INFO | app.workflow | [ROUTE_START] Routing to: START
2026-01-04 17:40:13 | INFO | app.graph | [START_NODE] Executing
2026-01-04 17:40:13 | INFO | app.graph | [START_NODE] Set step to ASK_NAME
2026-01-04 17:40:13 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:40:16 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:40:18 | INFO | app.websocket | Sent initial greeting to user 3003548075296
2026-01-04 17:40:20 | INFO | app.websocket | WebSocket client disconnected: 3003548075296
2026-01-04 17:40:21 | INFO | app.websocket | WebSocket client connected: 3003661451904
2026-01-04 17:40:21 | INFO | app.workflow | [RUN_STEP] Starting with state.step: START
2026-01-04 17:40:21 | INFO | app.workflow | [RUN_STEP] state.last_user_message: None
2026-01-04 17:40:21 | INFO | app.workflow | [ROUTE_START] Called with state.step: START
2026-01-04 17:40:21 | INFO | app.workflow | [ROUTE_START] Routing to: START
2026-01-04 17:40:21 | INFO | app.graph | [START_NODE] Executing
2026-01-04 17:40:21 | INFO | app.graph | [START_NODE] Set step to ASK_NAME
2026-01-04 17:40:21 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:40:23 | INFO | app.websocket | Sent initial greeting to user 3003661451904
2026-01-04 17:40:42 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:40:46 | INFO | faster_whisper | Processing audio with duration 00:05.460
2026-01-04 17:40:46 | INFO | faster_whisper | VAD filter removed 00:03.028 of audio
2026-01-04 17:40:49 | INFO | app.websocket | STT output: My name is Muhammad Amil.
2026-01-04 17:40:49 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 17:40:49 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Muhammad Amil.
2026-01-04 17:40:49 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_NAME
2026-01-04 17:40:49 | INFO | app.workflow | [RUN_STEP] state.last_user_message: My name is Muhammad Amil.
2026-01-04 17:40:49 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_NAME
2026-01-04 17:40:49 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_NAME
2026-01-04 17:40:49 | INFO | app.graph | [ASK_NAME_NODE] Executing with last_user_message: My name is Muhammad Amil.
2026-01-04 17:40:49 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: My name is Muhammad Amil.
2026-01-04 17:40:50 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:40:50 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': 'Muhammad Amil', 'meeting_datetime_text': None, 'meeting_title': None}
2026-01-04 17:40:50 | INFO | app.nlu.extractor | Extracted fields - name: Muhammad Amil, title: None, datetime_text: None
2026-01-04 17:40:50 | INFO | app.nlu.extractor | Updated state.name to: Muhammad Amil
2026-01-04 17:40:50 | INFO | app.graph | [ASK_NAME_NODE] After extraction, state.name: Muhammad Amil
2026-01-04 17:40:50 | INFO | app.graph | [ASK_NAME_NODE] Name found, moving to ASK_DATETIME
2026-01-04 17:40:50 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:40:50 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:40:50 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:40:50 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Nice to meet you, Muhammad Amil. When should we schedule the meeting?
2026-01-04 17:41:06 | INFO | faster_whisper | Processing audio with duration 00:04.800
2026-01-04 17:41:06 | INFO | faster_whisper | VAD filter removed 00:02.240 of audio
2026-01-04 17:41:11 | INFO | app.websocket | STT output: Tomorrow at 11 p.m.
2026-01-04 17:41:11 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 17:41:11 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Tomorrow at 11 p.m.
2026-01-04 17:41:11 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_DATETIME
2026-01-04 17:41:11 | INFO | app.workflow | [RUN_STEP] state.last_user_message: Tomorrow at 11 p.m.
2026-01-04 17:41:12 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 17:41:12 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 17:41:13 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: Tomorrow at 11 p.m.
2026-01-04 17:41:13 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Tomorrow at 11 p.m.
2026-01-04 17:41:13 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:41:13 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'Tomorrow at 11 p.m.', 'meeting_title': None}
2026-01-04 17:41:13 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: Tomorrow at 11 p.m.
2026-01-04 17:41:13 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Attempting to parse: text='Tomorrow at 11 p.m.', now='2026-01-04T17:41:13.976163+05:30', tz='Asia/Kolkata'
2026-01-04 17:41:13 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Using timezone string: Asia/Kolkata
2026-01-04 17:41:13 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser settings: {'RELATIVE_BASE': datetime.datetime(2026, 1, 4, 17, 41, 13, 976163, tzinfo=zoneinfo.ZoneInfo(key='Asia/Kolkata')), 'TIMEZONE': 'Asia/Kolkata', 'RETURN_AS_TIMEZONE_AWARE': True, 'PREFER_DATES_FROM': 'future'}
2026-01-04 17:41:14 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser returned: 2026-01-05 23:00:00+05:30
2026-01-04 17:41:14 | INFO | app.utils.datetime_parser | [PARSE_DATETIME]  SUCCESS: 'Tomorrow at 11 p.m.' -> '2026-01-05T23:00:00+05:30'
2026-01-04 17:41:14 | ERROR | app.workflow | Graph execution failed
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\workflow.py", line 129, in run_step
    result = await conversation_graph.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1093, in ainvoke
    async for chunk in self.astream(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 935, in astream
    _panic_or_proceed(done, inflight, step)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langgraph\pregel\__init__.py", line 1126, in _panic_or_proceed
    raise exc
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 2536, in ainvoke
    input = await step.ainvoke(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 3983, in ainvoke
    return await self._acall_with_config(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 1678, in _acall_with_config
    output = await coro
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\langchain_core\runnables\base.py", line 3930, in _ainvoke
    output = await acall_func_with_variable_args(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\graph.py", line 50, in ask_datetime_node
    state = await extract_fields(state, state.last_user_message)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\nlu\extractor.py", line 167, in extract_fields
    validated_dt = validate_meeting_datetime(parsed_dt)
TypeError: validate_meeting_datetime() missing 1 required keyword-only argument: 'now'
2026-01-04 17:41:14 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'dict'>
2026-01-04 17:41:14 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:41:14 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Nice to meet you, Muhammad Amil. When should we schedule the meeting?
2026-01-04 17:41:22 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 17:41:30 | WARNING | app.tts.kokoro | TTS timeout (attempt 2)
2026-01-04 17:41:30 | ERROR | app.websocket | TTS generation failed: TTS synthesis failed after retries
2026-01-04 17:41:55 | INFO | app.websocket | WebSocket client disconnected: 3003661451904
2026-01-04 17:43:12 | INFO | root | Logging initialized successfully
2026-01-04 17:43:16 | INFO | app.websocket | WebSocket client connected: 2980037893840
2026-01-04 17:43:16 | INFO | app.workflow | [RUN_STEP] Starting with state.step: START
2026-01-04 17:43:16 | INFO | app.workflow | [RUN_STEP] state.last_user_message: None
2026-01-04 17:43:16 | INFO | app.workflow | [ROUTE_START] Called with state.step: START
2026-01-04 17:43:16 | INFO | app.workflow | [ROUTE_START] Routing to: START
2026-01-04 17:43:16 | INFO | app.graph | [START_NODE] Executing
2026-01-04 17:43:16 | INFO | app.graph | [START_NODE] Set step to ASK_NAME
2026-01-04 17:43:16 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_NAME
2026-01-04 17:43:20 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 17:43:23 | INFO | app.websocket | Sent initial greeting to user 2980037893840
2026-01-04 17:43:54 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 17:43:58 | INFO | faster_whisper | Processing audio with duration 00:02.940
2026-01-04 17:43:59 | INFO | faster_whisper | VAD filter removed 00:00.112 of audio
2026-01-04 17:44:02 | INFO | app.websocket | STT output: My name is Mohamed Amil.
2026-01-04 17:44:03 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 17:44:03 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Mohamed Amil.
2026-01-04 17:44:03 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_NAME
2026-01-04 17:44:03 | INFO | app.workflow | [RUN_STEP] state.last_user_message: My name is Mohamed Amil.
2026-01-04 17:44:03 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_NAME
2026-01-04 17:44:03 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_NAME
2026-01-04 17:44:03 | INFO | app.graph | [ASK_NAME_NODE] Executing with last_user_message: My name is Mohamed Amil.
2026-01-04 17:44:03 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: My name is Mohamed Amil.
2026-01-04 17:44:03 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:44:03 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': 'Mohamed Amil', 'meeting_datetime_text': None, 'meeting_title': None}
2026-01-04 17:44:03 | INFO | app.nlu.extractor | Extracted fields - name: Mohamed Amil, title: None, datetime_text: None
2026-01-04 17:44:03 | INFO | app.nlu.extractor | Updated state.name to: Mohamed Amil
2026-01-04 17:44:03 | INFO | app.graph | [ASK_NAME_NODE] After extraction, state.name: Mohamed Amil
2026-01-04 17:44:03 | INFO | app.graph | [ASK_NAME_NODE] Name found, moving to ASK_DATETIME
2026-01-04 17:44:03 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_DATETIME
2026-01-04 17:44:03 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:44:03 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 17:44:03 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Nice to meet you, Mohamed Amil. When should we schedule the meeting?
2026-01-04 17:44:32 | INFO | faster_whisper | Processing audio with duration 00:05.940
2026-01-04 17:44:34 | INFO | faster_whisper | VAD filter removed 00:02.420 of audio
2026-01-04 17:44:46 | INFO | app.websocket | STT output: scheduled the meeting for tomorrow 12 p.m
2026-01-04 17:44:46 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 17:44:46 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: scheduled the meeting for tomorrow 12 p.m
2026-01-04 17:44:46 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_DATETIME
2026-01-04 17:44:46 | INFO | app.workflow | [RUN_STEP] state.last_user_message: scheduled the meeting for tomorrow 12 p.m
2026-01-04 17:44:47 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 17:44:47 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 17:44:47 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: scheduled the meeting for tomorrow 12 p.m
2026-01-04 17:44:47 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: scheduled the meeting for tomorrow 12 p.m
2026-01-04 17:44:47 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:44:47 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'tomorrow 12 p.m', 'meeting_title': None}
2026-01-04 17:44:47 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: tomorrow 12 p.m
2026-01-04 17:44:47 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Attempting to parse: text='tomorrow 12 p.m', now='2026-01-04T17:44:47.451298+05:30', tz='Asia/Kolkata'
2026-01-04 17:44:47 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Using timezone string: Asia/Kolkata
2026-01-04 17:44:47 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser settings: {'RELATIVE_BASE': datetime.datetime(2026, 1, 4, 17, 44, 47, 451298, tzinfo=zoneinfo.ZoneInfo(key='Asia/Kolkata')), 'TIMEZONE': 'Asia/Kolkata', 'RETURN_AS_TIMEZONE_AWARE': True, 'PREFER_DATES_FROM': 'future'}
2026-01-04 17:44:47 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser returned: 2026-01-05 12:00:00+05:30
2026-01-04 17:44:47 | INFO | app.utils.datetime_parser | [PARSE_DATETIME]  SUCCESS: 'tomorrow 12 p.m' -> '2026-01-05T12:00:00+05:30'
2026-01-04 17:44:47 | INFO | app.nlu.extractor | Updated state.meeting_datetime to: 2026-01-05 12:00:00+05:30
2026-01-04 17:44:47 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: 2026-01-05 12:00:00+05:30
2026-01-04 17:44:47 | INFO | app.graph | [ASK_DATETIME_NODE] DateTime found, moving to ASK_TITLE
2026-01-04 17:44:47 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: ASK_TITLE
2026-01-04 17:44:47 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:44:47 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_TITLE
2026-01-04 17:44:47 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Got it. Would you like to add a title for the meeting? You can say no.
2026-01-04 17:47:05 | INFO | faster_whisper | Processing audio with duration 00:04.860
2026-01-04 17:47:05 | INFO | faster_whisper | VAD filter removed 00:00.656 of audio
2026-01-04 17:47:09 | INFO | app.websocket | STT output: Add the title as Agri-Smithy.
2026-01-04 17:47:09 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_TITLE
2026-01-04 17:47:09 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Add the title as Agri-Smithy.
2026-01-04 17:47:09 | INFO | app.workflow | [RUN_STEP] Starting with state.step: ASK_TITLE
2026-01-04 17:47:09 | INFO | app.workflow | [RUN_STEP] state.last_user_message: Add the title as Agri-Smithy.
2026-01-04 17:47:09 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_TITLE
2026-01-04 17:47:09 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_TITLE
2026-01-04 17:47:09 | INFO | app.graph | [ASK_TITLE_NODE] Executing
2026-01-04 17:47:09 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Add the title as Agri-Smithy.
2026-01-04 17:47:09 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 17:47:09 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': None, 'meeting_title': 'Agri-Smithy'}
2026-01-04 17:47:09 | INFO | app.nlu.extractor | Extracted fields - name: None, title: Agri-Smithy, datetime_text: None
2026-01-04 17:47:09 | INFO | app.nlu.extractor | Updated state.meeting_title to: Agri-Smithy
2026-01-04 17:47:09 | INFO | app.graph | [ASK_TITLE_NODE] Moving to CONFIRM_DETAILS
2026-01-04 17:47:09 | INFO | app.workflow | [NEXT_STEP_ROUTER] Called with state.step: CONFIRM_DETAILS
2026-01-04 17:47:09 | INFO | app.graph | [CONFIRM_DETAILS_NODE] Executing
2026-01-04 17:47:09 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 17:47:09 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:47:09 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 17:47:09 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please confirm: A meeting for Mohamed Amil on Monday, 05 January at 12:00 PM titled 'Agri-Smithy'. Should I go ahead and create it?
2026-01-04 17:47:10 | WARNING | phonemizer | words count mismatch on 100.0% of the lines (1/1)
2026-01-04 17:47:31 | INFO | faster_whisper | Processing audio with duration 00:03.420
2026-01-04 17:47:31 | INFO | faster_whisper | VAD filter removed 00:00.272 of audio
2026-01-04 17:47:34 | INFO | app.websocket | STT output: yes go ahead and create it
2026-01-04 17:47:34 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 17:47:34 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: yes go ahead and create it
2026-01-04 17:47:34 | INFO | app.workflow | [RUN_STEP] Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 17:47:34 | INFO | app.workflow | [RUN_STEP] state.last_user_message: yes go ahead and create it
2026-01-04 17:47:35 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 17:47:35 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 17:47:35 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: yes go ahead and create it
2026-01-04 17:47:35 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 17:47:35 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:47:35 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 17:47:35 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 17:47:45 | INFO | faster_whisper | Processing audio with duration 00:04.560
2026-01-04 17:47:45 | INFO | faster_whisper | VAD filter removed 00:03.120 of audio
2026-01-04 17:47:48 | INFO | app.websocket | STT output: Yes
2026-01-04 17:47:48 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 17:47:48 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes
2026-01-04 17:47:48 | INFO | app.workflow | [RUN_STEP] Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 17:47:48 | INFO | app.workflow | [RUN_STEP] state.last_user_message: Yes
2026-01-04 17:47:48 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 17:47:48 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 17:47:48 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes
2026-01-04 17:47:48 | INFO | app.calendar.google_auth | Refreshing Google Calendar access token
2026-01-04 17:47:48 | ERROR | app.calendar.google_auth | Unexpected failure during Google token refresh
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_auth.py", line 85, in _refresh_credentials
    self._creds.refresh(Request())
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\google\oauth2\credentials.py", line 431, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\google\oauth2\reauth.py", line 365, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\google\oauth2\_client.py", line 72, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Token has been expired or revoked.', {'error': 'invalid_grant', 'error_description': 'Token has been expired or revoked.'})
2026-01-04 17:47:48 | ERROR | app.calendar.google_calendar | Google auth failed: Failed to refresh Google OAuth token
2026-01-04 17:47:48 | ERROR | app.graph | Calendar error
Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_auth.py", line 85, in _refresh_credentials
    self._creds.refresh(Request())
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\google\oauth2\credentials.py", line 431, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\google\oauth2\reauth.py", line 365, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\site-packages\google\oauth2\_client.py", line 72, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Token has been expired or revoked.', {'error': 'invalid_grant', 'error_description': 'Token has been expired or revoked.'})

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_calendar.py", line 109, in _create_event_blocking
    creds = self.auth.get_credentials()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_auth.py", line 112, in get_credentials
    self._refresh_credentials()
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_auth.py", line 99, in _refresh_credentials
    raise GoogleAuthError(
app.calendar.google_auth.GoogleAuthError: Failed to refresh Google OAuth token

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\graph.py", line 121, in await_confirmation_node
    await calendar_service.create_event(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_calendar.py", line 74, in create_event
    return await loop.run_in_executor(
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\myvenv\lib\concurrent\futures\thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\amil\OneDrive\Documents\Voice scheduling agent\app\calendar\google_calendar.py", line 112, in _create_event_blocking
    raise GoogleCalendarError("Authentication with Google failed") from e
app.calendar.google_calendar.GoogleCalendarError: Authentication with Google failed
2026-01-04 17:47:48 | INFO | app.workflow | [RUN_STEP] Graph execution completed. Result step: END
2026-01-04 17:47:48 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 17:47:48 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: END
2026-01-04 17:47:48 | INFO | app.websocket | [WEBSOCKET] New state.system_message: I couldn't create the meeting due to a calendar error.
2026-01-04 17:52:03 | INFO | app.websocket | WebSocket client disconnected: 2980037893840
2026-01-04 17:52:18 | INFO | root | Logging initialized successfully
2026-01-04 17:52:27 | INFO | root | Logging initialized successfully
2026-01-04 18:30:15 | INFO | root | Logging initialized successfully
2026-01-04 18:30:15 | INFO | app.main | Preloading TTS model (Kokoro)...
2026-01-04 18:30:19 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 18:30:19 | INFO | app.main | Preloading STT model (Whisper)...
2026-01-04 18:30:19 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 18:31:01 | INFO | app.main | All models preloaded successfully
2026-01-04 18:31:12 | INFO | app.websocket | WebSocket client connected: 1476139479296
2026-01-04 18:31:12 | INFO | app.workflow | Starting with state.step: START
2026-01-04 18:31:12 | INFO | app.workflow | state.last_user_message: None
2026-01-04 18:31:12 | INFO | app.workflow | [ROUTE_START] Called with state.step: START
2026-01-04 18:31:12 | INFO | app.workflow | [ROUTE_START] Routing to: START
2026-01-04 18:31:12 | INFO | app.graph | [START_NODE] Executing
2026-01-04 18:31:12 | INFO | app.graph | [START_NODE] Set step to ASK_NAME
2026-01-04 18:31:12 | INFO | app.workflow | Graph execution completed. Result step: ASK_NAME
2026-01-04 18:31:20 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 18:31:23 | INFO | app.websocket | Sent initial greeting to user 1476139479296
2026-01-04 18:31:52 | INFO | faster_whisper | Processing audio with duration 00:03.660
2026-01-04 18:31:53 | INFO | faster_whisper | VAD filter removed 00:00.176 of audio
2026-01-04 18:31:56 | INFO | app.websocket | STT output: My name is Mohamed Amil.
2026-01-04 18:31:56 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 18:31:56 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Mohamed Amil.
2026-01-04 18:31:56 | INFO | app.workflow | Starting with state.step: ASK_NAME
2026-01-04 18:31:56 | INFO | app.workflow | state.last_user_message: My name is Mohamed Amil.
2026-01-04 18:31:56 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_NAME
2026-01-04 18:31:56 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_NAME
2026-01-04 18:31:56 | INFO | app.graph | [ASK_NAME_NODE] Executing with last_user_message: My name is Mohamed Amil.
2026-01-04 18:31:56 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: My name is Mohamed Amil.
2026-01-04 18:31:57 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:31:57 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': 'Mohamed Amil', 'meeting_datetime_text': None, 'meeting_title': None}
2026-01-04 18:31:57 | INFO | app.nlu.extractor | Extracted fields - name: Mohamed Amil, title: None, datetime_text: None
2026-01-04 18:31:57 | INFO | app.nlu.extractor | Updated state.name to: Mohamed Amil
2026-01-04 18:31:57 | INFO | app.graph | [ASK_NAME_NODE] After extraction, state.name: Mohamed Amil
2026-01-04 18:31:57 | INFO | app.graph | [ASK_NAME_NODE] Name found, moving to ASK_DATETIME
2026-01-04 18:31:57 | INFO | app.workflow | Graph execution completed. Result step: ASK_DATETIME
2026-01-04 18:31:57 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:31:57 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 18:31:57 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Nice to meet you, Mohamed Amil. When should we schedule the meeting?
2026-01-04 18:32:15 | INFO | faster_whisper | Processing audio with duration 00:04.680
2026-01-04 18:32:15 | INFO | faster_whisper | VAD filter removed 00:00.848 of audio
2026-01-04 18:32:19 | INFO | app.websocket | STT output: tomorrow at 11 p.m.
2026-01-04 18:32:19 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 18:32:19 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: tomorrow at 11 p.m.
2026-01-04 18:32:19 | INFO | app.workflow | Starting with state.step: ASK_DATETIME
2026-01-04 18:32:19 | INFO | app.workflow | state.last_user_message: tomorrow at 11 p.m.
2026-01-04 18:32:19 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 18:32:19 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 18:32:19 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: tomorrow at 11 p.m.
2026-01-04 18:32:19 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: tomorrow at 11 p.m.
2026-01-04 18:32:19 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:32:19 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'tomorrow at 11 p.m.', 'meeting_title': None}
2026-01-04 18:32:19 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: tomorrow at 11 p.m.
2026-01-04 18:32:20 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Attempting to parse: text='tomorrow at 11 p.m.', now='2026-01-04T18:32:20.008309+05:30', tz='Asia/Kolkata'
2026-01-04 18:32:20 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Using timezone string: Asia/Kolkata
2026-01-04 18:32:20 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser settings: {'RELATIVE_BASE': datetime.datetime(2026, 1, 4, 18, 32, 20, 8309, tzinfo=zoneinfo.ZoneInfo(key='Asia/Kolkata')), 'TIMEZONE': 'Asia/Kolkata', 'RETURN_AS_TIMEZONE_AWARE': True, 'PREFER_DATES_FROM': 'future'}
2026-01-04 18:32:20 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser returned: 2026-01-05 23:00:00+05:30
2026-01-04 18:32:20 | INFO | app.utils.datetime_parser | [PARSE_DATETIME]  SUCCESS: 'tomorrow at 11 p.m.' -> '2026-01-05T23:00:00+05:30'
2026-01-04 18:32:20 | INFO | app.nlu.extractor | Updated state.meeting_datetime to: 2026-01-05 23:00:00+05:30
2026-01-04 18:32:20 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: 2026-01-05 23:00:00+05:30
2026-01-04 18:32:20 | INFO | app.graph | [ASK_DATETIME_NODE] DateTime found, moving to ASK_TITLE
2026-01-04 18:32:20 | INFO | app.workflow | Graph execution completed. Result step: ASK_TITLE
2026-01-04 18:32:20 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:32:20 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_TITLE
2026-01-04 18:32:20 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Got it. Would you like to add a title for the meeting? You can say no.
2026-01-04 18:33:02 | INFO | faster_whisper | Processing audio with duration 00:05.340
2026-01-04 18:33:02 | INFO | faster_whisper | VAD filter removed 00:00.496 of audio
2026-01-04 18:33:15 | INFO | app.websocket | STT output: Yes, at the title of this meeting.
2026-01-04 18:33:15 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_TITLE
2026-01-04 18:33:15 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes, at the title of this meeting.
2026-01-04 18:33:15 | INFO | app.workflow | Starting with state.step: ASK_TITLE
2026-01-04 18:33:15 | INFO | app.workflow | state.last_user_message: Yes, at the title of this meeting.
2026-01-04 18:33:16 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_TITLE
2026-01-04 18:33:16 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_TITLE
2026-01-04 18:33:16 | INFO | app.graph | [ASK_TITLE_NODE] Executing
2026-01-04 18:33:16 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Yes, at the title of this meeting.
2026-01-04 18:33:17 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:33:17 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': None, 'meeting_title': None}
2026-01-04 18:33:17 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: None
2026-01-04 18:33:17 | INFO | app.graph | [ASK_TITLE_NODE] Staying in ASK_TITLE
2026-01-04 18:33:17 | INFO | app.workflow | [NEXT_STEP_ROUTER] Called with state.step: ASK_TITLE
2026-01-04 18:33:17 | INFO | app.workflow | Graph execution completed. Result step: ASK_TITLE
2026-01-04 18:33:17 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:33:17 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_TITLE
2026-01-04 18:33:17 | INFO | app.websocket | [WEBSOCKET] New state.system_message: I didn't catch a title. Please say the title or say 'no' to skip.
2026-01-04 18:33:32 | INFO | faster_whisper | Processing audio with duration 00:05.280
2026-01-04 18:33:32 | INFO | faster_whisper | VAD filter removed 00:00.400 of audio
2026-01-04 18:33:35 | INFO | app.websocket | STT output: Adil's meeting that is the title
2026-01-04 18:33:35 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_TITLE
2026-01-04 18:33:35 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Adil's meeting that is the title
2026-01-04 18:33:35 | INFO | app.workflow | Starting with state.step: ASK_TITLE
2026-01-04 18:33:35 | INFO | app.workflow | state.last_user_message: Adil's meeting that is the title
2026-01-04 18:33:35 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_TITLE
2026-01-04 18:33:35 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_TITLE
2026-01-04 18:33:35 | INFO | app.graph | [ASK_TITLE_NODE] Executing
2026-01-04 18:33:35 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Adil's meeting that is the title
2026-01-04 18:33:35 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:33:35 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': None, 'meeting_title': "Adil's meeting that is the title"}
2026-01-04 18:33:35 | INFO | app.nlu.extractor | Extracted fields - name: None, title: Adil's meeting that is the title, datetime_text: None
2026-01-04 18:33:35 | INFO | app.nlu.extractor | Updated state.meeting_title to: Adil's meeting that is the title
2026-01-04 18:33:35 | INFO | app.graph | [ASK_TITLE_NODE] Moving to CONFIRM_DETAILS
2026-01-04 18:33:35 | INFO | app.workflow | [NEXT_STEP_ROUTER] Called with state.step: CONFIRM_DETAILS
2026-01-04 18:33:35 | INFO | app.graph | [CONFIRM_DETAILS_NODE] Executing
2026-01-04 18:33:35 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:33:35 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:33:35 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:33:35 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please confirm: A meeting for Mohamed Amil on Monday, 05 January at 11:00 PM titled 'Adil's meeting that is the title'. Should I go ahead and create it?
2026-01-04 18:33:35 | WARNING | phonemizer | words count mismatch on 100.0% of the lines (1/1)
2026-01-04 18:33:58 | INFO | faster_whisper | Processing audio with duration 00:03.540
2026-01-04 18:33:58 | INFO | faster_whisper | VAD filter removed 00:00.176 of audio
2026-01-04 18:34:01 | INFO | app.websocket | STT output: Yes, go ahead and create it
2026-01-04 18:34:01 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:01 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes, go ahead and create it
2026-01-04 18:34:01 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:01 | INFO | app.workflow | state.last_user_message: Yes, go ahead and create it
2026-01-04 18:34:01 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:01 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:34:02 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes, go ahead and create it
2026-01-04 18:34:02 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:34:02 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:34:02 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:02 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:34:09 | INFO | faster_whisper | Processing audio with duration 00:02.640
2026-01-04 18:34:10 | INFO | faster_whisper | VAD filter removed 00:00.176 of audio
2026-01-04 18:34:14 | INFO | app.websocket | STT output: Yes.
2026-01-04 18:34:14 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:14 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes.
2026-01-04 18:34:14 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:14 | INFO | app.workflow | state.last_user_message: Yes.
2026-01-04 18:34:14 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:14 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:34:14 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes.
2026-01-04 18:34:14 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:34:14 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:34:14 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:14 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:34:21 | INFO | faster_whisper | Processing audio with duration 00:02.580
2026-01-04 18:34:21 | INFO | faster_whisper | VAD filter removed 00:00.400 of audio
2026-01-04 18:34:24 | INFO | app.websocket | STT output: Yes!
2026-01-04 18:34:24 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:24 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes!
2026-01-04 18:34:24 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:24 | INFO | app.workflow | state.last_user_message: Yes!
2026-01-04 18:34:24 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:24 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:34:24 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes!
2026-01-04 18:34:24 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:34:24 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:34:24 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:24 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:34:34 | INFO | faster_whisper | Processing audio with duration 00:03.420
2026-01-04 18:34:35 | INFO | faster_whisper | VAD filter removed 00:00.272 of audio
2026-01-04 18:34:39 | INFO | app.websocket | STT output: Yes, please create it.
2026-01-04 18:34:39 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:39 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes, please create it.
2026-01-04 18:34:39 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:39 | INFO | app.workflow | state.last_user_message: Yes, please create it.
2026-01-04 18:34:39 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:39 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:34:39 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes, please create it.
2026-01-04 18:34:39 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:34:39 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:34:39 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:39 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:34:44 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:34:44 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: yes
2026-01-04 18:34:44 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:44 | INFO | app.workflow | state.last_user_message: yes
2026-01-04 18:34:44 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:34:44 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:34:45 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: yes
2026-01-04 18:34:45 | INFO | app.calendar.google_auth | Refreshing Google Calendar access token
2026-01-04 18:34:47 | INFO | app.calendar.google_auth | Google access token refreshed successfully
2026-01-04 18:34:47 | INFO | app.calendar.google_calendar | Creating calendar event: title=Adil's meeting that is the title start=2026-01-05T23:00:00+05:30
2026-01-04 18:34:48 | INFO | app.calendar.google_calendar | Calendar event created successfully (event_id=10m5cmdboun70f9srdihv3vsh8)
2026-01-04 18:34:48 | INFO | app.workflow | Graph execution completed. Result step: END
2026-01-04 18:34:48 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:34:48 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: END
2026-01-04 18:34:48 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Your meeting has been created successfully.
2026-01-04 18:36:32 | INFO | app.websocket | WebSocket client disconnected: 1476139479296
2026-01-04 18:36:56 | INFO | root | Logging initialized successfully
2026-01-04 18:36:56 | INFO | app.main | Preloading TTS model (Kokoro)...
2026-01-04 18:37:00 | INFO | app.tts.kokoro | Kokoro TTS pipeline loaded with voice 'af_heart'
2026-01-04 18:37:00 | INFO | app.main | Preloading STT model (Whisper)...
2026-01-04 18:37:00 | INFO | app.stt.whisper | Loading Whisper model: small
2026-01-04 18:37:04 | INFO | app.main | All models preloaded successfully
2026-01-04 18:37:04 | INFO | app.websocket | WebSocket client connected: 2165119117024
2026-01-04 18:37:04 | INFO | app.workflow | Starting with state.step: START
2026-01-04 18:37:04 | INFO | app.workflow | state.last_user_message: None
2026-01-04 18:37:04 | INFO | app.workflow | [ROUTE_START] Called with state.step: START
2026-01-04 18:37:04 | INFO | app.workflow | [ROUTE_START] Routing to: START
2026-01-04 18:37:04 | INFO | app.graph | [START_NODE] Executing
2026-01-04 18:37:04 | INFO | app.graph | [START_NODE] Set step to ASK_NAME
2026-01-04 18:37:04 | INFO | app.workflow | Graph execution completed. Result step: ASK_NAME
2026-01-04 18:37:07 | INFO | app.websocket | Sent initial greeting to user 2165119117024
2026-01-04 18:37:18 | INFO | faster_whisper | Processing audio with duration 00:04.740
2026-01-04 18:37:18 | INFO | faster_whisper | VAD filter removed 00:00.336 of audio
2026-01-04 18:37:22 | INFO | app.websocket | STT output: My name is Mohammad Amil
2026-01-04 18:37:22 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_NAME
2026-01-04 18:37:22 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: My name is Mohammad Amil
2026-01-04 18:37:22 | INFO | app.workflow | Starting with state.step: ASK_NAME
2026-01-04 18:37:22 | INFO | app.workflow | state.last_user_message: My name is Mohammad Amil
2026-01-04 18:37:22 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_NAME
2026-01-04 18:37:22 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_NAME
2026-01-04 18:37:22 | INFO | app.graph | [ASK_NAME_NODE] Executing with last_user_message: My name is Mohammad Amil
2026-01-04 18:37:22 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: My name is Mohammad Amil
2026-01-04 18:37:23 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:37:23 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': 'Mohammad Amil', 'meeting_datetime_text': None, 'meeting_title': None}
2026-01-04 18:37:23 | INFO | app.nlu.extractor | Extracted fields - name: Mohammad Amil, title: None, datetime_text: None
2026-01-04 18:37:23 | INFO | app.nlu.extractor | Updated state.name to: Mohammad Amil
2026-01-04 18:37:23 | INFO | app.graph | [ASK_NAME_NODE] After extraction, state.name: Mohammad Amil
2026-01-04 18:37:23 | INFO | app.graph | [ASK_NAME_NODE] Name found, moving to ASK_DATETIME
2026-01-04 18:37:23 | INFO | app.workflow | Graph execution completed. Result step: ASK_DATETIME
2026-01-04 18:37:23 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:37:23 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_DATETIME
2026-01-04 18:37:23 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Nice to meet you, Mohammad Amil. When should we schedule the meeting?
2026-01-04 18:37:38 | INFO | faster_whisper | Processing audio with duration 00:06.120
2026-01-04 18:37:38 | INFO | faster_whisper | VAD filter removed 00:02.216 of audio
2026-01-04 18:37:42 | INFO | app.websocket | STT output: Day after tomorrow at 12 a.m
2026-01-04 18:37:42 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_DATETIME
2026-01-04 18:37:42 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Day after tomorrow at 12 a.m
2026-01-04 18:37:42 | INFO | app.workflow | Starting with state.step: ASK_DATETIME
2026-01-04 18:37:42 | INFO | app.workflow | state.last_user_message: Day after tomorrow at 12 a.m
2026-01-04 18:37:42 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_DATETIME
2026-01-04 18:37:42 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_DATETIME
2026-01-04 18:37:42 | INFO | app.graph | [ASK_DATETIME_NODE] Executing with last_user_message: Day after tomorrow at 12 a.m
2026-01-04 18:37:42 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Day after tomorrow at 12 a.m
2026-01-04 18:37:43 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:37:43 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': 'Day after tomorrow at 12 a.m', 'meeting_title': None}
2026-01-04 18:37:43 | INFO | app.nlu.extractor | Extracted fields - name: None, title: None, datetime_text: Day after tomorrow at 12 a.m
2026-01-04 18:37:43 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Attempting to parse: text='Day after tomorrow at 12 a.m', now='2026-01-04T18:37:43.072815+05:30', tz='Asia/Kolkata'
2026-01-04 18:37:43 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] Using timezone string: Asia/Kolkata
2026-01-04 18:37:43 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser settings: {'RELATIVE_BASE': datetime.datetime(2026, 1, 4, 18, 37, 43, 72815, tzinfo=zoneinfo.ZoneInfo(key='Asia/Kolkata')), 'TIMEZONE': 'Asia/Kolkata', 'RETURN_AS_TIMEZONE_AWARE': True, 'PREFER_DATES_FROM': 'future'}
2026-01-04 18:37:43 | INFO | app.utils.datetime_parser | [PARSE_DATETIME] dateparser returned: 2026-01-06 00:00:00+05:30
2026-01-04 18:37:43 | INFO | app.utils.datetime_parser | [PARSE_DATETIME]  SUCCESS: 'Day after tomorrow at 12 a.m' -> '2026-01-06T00:00:00+05:30'
2026-01-04 18:37:43 | INFO | app.nlu.extractor | Updated state.meeting_datetime to: 2026-01-06 00:00:00+05:30
2026-01-04 18:37:43 | INFO | app.graph | [ASK_DATETIME_NODE] After extraction, meeting_datetime: 2026-01-06 00:00:00+05:30
2026-01-04 18:37:43 | INFO | app.graph | [ASK_DATETIME_NODE] DateTime found, moving to ASK_TITLE
2026-01-04 18:37:43 | INFO | app.workflow | Graph execution completed. Result step: ASK_TITLE
2026-01-04 18:37:43 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:37:43 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: ASK_TITLE
2026-01-04 18:37:43 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Got it. Would you like to add a title for the meeting? You can say no.
2026-01-04 18:38:00 | INFO | faster_whisper | Processing audio with duration 00:05.160
2026-01-04 18:38:01 | INFO | faster_whisper | VAD filter removed 00:00.912 of audio
2026-01-04 18:38:25 | INFO | app.websocket | STT output: Yes, I had the title CEO meeting.
2026-01-04 18:38:25 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: ASK_TITLE
2026-01-04 18:38:25 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes, I had the title CEO meeting.
2026-01-04 18:38:25 | INFO | app.workflow | Starting with state.step: ASK_TITLE
2026-01-04 18:38:25 | INFO | app.workflow | state.last_user_message: Yes, I had the title CEO meeting.
2026-01-04 18:38:25 | INFO | app.workflow | [ROUTE_START] Called with state.step: ASK_TITLE
2026-01-04 18:38:25 | INFO | app.workflow | [ROUTE_START] Routing to: ASK_TITLE
2026-01-04 18:38:25 | INFO | app.graph | [ASK_TITLE_NODE] Executing
2026-01-04 18:38:25 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] Called with user_message: Yes, I had the title CEO meeting.
2026-01-04 18:38:25 | INFO | httpx | HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-04 18:38:25 | INFO | app.nlu.extractor | [EXTRACT_FIELDS] LLM raw output: {'name': None, 'meeting_datetime_text': None, 'meeting_title': 'CEO meeting'}
2026-01-04 18:38:25 | INFO | app.nlu.extractor | Extracted fields - name: None, title: CEO meeting, datetime_text: None
2026-01-04 18:38:25 | INFO | app.nlu.extractor | Updated state.meeting_title to: CEO meeting
2026-01-04 18:38:25 | INFO | app.graph | [ASK_TITLE_NODE] Moving to CONFIRM_DETAILS
2026-01-04 18:38:25 | INFO | app.workflow | [NEXT_STEP_ROUTER] Called with state.step: CONFIRM_DETAILS
2026-01-04 18:38:25 | INFO | app.graph | [CONFIRM_DETAILS_NODE] Executing
2026-01-04 18:38:25 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:38:25 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:38:25 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:38:25 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please confirm: A meeting for Mohammad Amil on Tuesday, 06 January at 12:00 AM titled 'CEO meeting'. Should I go ahead and create it?
2026-01-04 18:38:26 | WARNING | phonemizer | words count mismatch on 100.0% of the lines (1/1)
2026-01-04 18:38:54 | INFO | faster_whisper | Processing audio with duration 00:06.420
2026-01-04 18:38:55 | INFO | faster_whisper | VAD filter removed 00:01.520 of audio
2026-01-04 18:39:01 | INFO | app.websocket | STT output: Yes, go ahead and create the event.
2026-01-04 18:39:01 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:01 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes, go ahead and create the event.
2026-01-04 18:39:01 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:01 | INFO | app.workflow | state.last_user_message: Yes, go ahead and create the event.
2026-01-04 18:39:01 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:01 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:39:01 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes, go ahead and create the event.
2026-01-04 18:39:01 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:39:01 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:39:01 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:01 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:39:09 | WARNING | app.tts.kokoro | TTS timeout (attempt 1)
2026-01-04 18:39:23 | INFO | faster_whisper | Processing audio with duration 00:03.000
2026-01-04 18:39:24 | INFO | faster_whisper | VAD filter removed 00:00.112 of audio
2026-01-04 18:39:28 | INFO | app.websocket | STT output: Yes, create it
2026-01-04 18:39:28 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:28 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes, create it
2026-01-04 18:39:28 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:28 | INFO | app.workflow | state.last_user_message: Yes, create it
2026-01-04 18:39:28 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:28 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:39:28 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes, create it
2026-01-04 18:39:28 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:39:28 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:39:28 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:28 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:39:36 | INFO | faster_whisper | Processing audio with duration 00:03.360
2026-01-04 18:39:36 | INFO | faster_whisper | VAD filter removed 00:00.176 of audio
2026-01-04 18:39:40 | INFO | app.websocket | STT output: Yes! Yes!
2026-01-04 18:39:40 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:40 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: Yes! Yes!
2026-01-04 18:39:40 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:40 | INFO | app.workflow | state.last_user_message: Yes! Yes!
2026-01-04 18:39:40 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:40 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:39:40 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: Yes! Yes!
2026-01-04 18:39:40 | INFO | app.workflow | Graph execution completed. Result step: AWAIT_CONFIRMATION
2026-01-04 18:39:40 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:39:40 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:40 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Please reply with yes or no.
2026-01-04 18:39:45 | INFO | app.websocket | [WEBSOCKET] Current state.step before run_step: AWAIT_CONFIRMATION
2026-01-04 18:39:45 | INFO | app.websocket | [WEBSOCKET] Calling run_step with last_user_message: yes
2026-01-04 18:39:45 | INFO | app.workflow | Starting with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:45 | INFO | app.workflow | state.last_user_message: yes
2026-01-04 18:39:45 | INFO | app.workflow | [ROUTE_START] Called with state.step: AWAIT_CONFIRMATION
2026-01-04 18:39:45 | INFO | app.workflow | [ROUTE_START] Routing to: AWAIT_CONFIRMATION
2026-01-04 18:39:45 | INFO | app.graph | [AWAIT_CONFIRMATION_NODE] Executing with response: yes
2026-01-04 18:39:45 | INFO | app.calendar.google_auth | Refreshing Google Calendar access token
2026-01-04 18:39:46 | INFO | app.calendar.google_auth | Google access token refreshed successfully
2026-01-04 18:39:46 | INFO | app.calendar.google_calendar | Creating calendar event: title=CEO meeting start=2026-01-06T00:00:00+05:30
2026-01-04 18:39:46 | INFO | app.calendar.google_calendar | Calendar event created successfully (event_id=ga7vhsq8am1jett1l2f5agpql8)
2026-01-04 18:39:46 | INFO | app.workflow | Graph execution completed. Result step: END
2026-01-04 18:39:46 | INFO | app.websocket | [WEBSOCKET] run_step completed. Result type: <class 'langgraph.pregel.io.AddableValuesDict'>
2026-01-04 18:39:46 | INFO | app.websocket | [WEBSOCKET] New state.step after run_step: END
2026-01-04 18:39:46 | INFO | app.websocket | [WEBSOCKET] New state.system_message: Your meeting has been created successfully.
2026-01-04 18:42:28 | INFO | app.websocket | WebSocket client disconnected: 2165119117024
